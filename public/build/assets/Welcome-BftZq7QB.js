import{r as w,m as S,j as e,L as _,$ as C}from"./app-O6ClL6Ku.js";import{I as n}from"./InputError-BwDH32Se.js";import{e as p,B as c,a as N,b as I,c as L,d as b,L as o,I as h,S as k,g as D,h as M,i as E,l as G,n as V,j as A,o as P,P as T,p as $,f as F,q as B,r as H,m as q,u as g}from"./popover-CtRjf3t3.js";import{G as R}from"./GuestLayout-DYAkIp0r.js";import"./index-wyzLC8nf.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],z=p("Calendar",W);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],K=p("LogIn",J);function te({auth:O,laravelVersion:Q,phpVersion:U,categories:x,message:X}){const[j,u]=w.useState(""),{data:a,setData:t,errors:l,post:f,reset:y,processing:m}=S({title:"",category_id:void 0,amount:void 0,expense_date:new Date}),i=new Date;i.setHours(0,0,0,0);const v=s=>{s.preventDefault();const d={...a,expense_date:q(a.expense_date,"yyyy-MM-dd")};console.log(d),f(route("expense.public-store"),{preserveScroll:!0,onSuccess:r=>{y(),u(""),t("category_id",void 0),console.log(r),g.success("Gasto guardado exitosamente")},onError:r=>{console.error("Error al guardar el gasto",r),g.error("Error al guardar el gasto")}})};return e.jsxs(R,{children:[e.jsx(_,{title:"SrGastos"}),e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen w-full p-8 md:px-16",children:[e.jsxs("header",{className:"flex w-full justify-between items-center",children:[e.jsx("div",{}),e.jsx("img",{src:"assets/images/sr-connor.svg",alt:"Logo",width:180}),e.jsx("div",{children:e.jsx(C,{href:"/login",children:e.jsxs(c,{variant:"outline",children:["Login ",e.jsx(K,{})]})})})]}),e.jsx("main",{className:"flex flex-col items-center justify-center h-full w-full md:w-2/4",children:e.jsxs(N,{className:"w-full md:max-w-[600px]",children:[e.jsx(I,{children:e.jsx(L,{children:"Agregar Gasto"})}),e.jsx(b,{children:e.jsxs("form",{className:"w-full space-y-6",onSubmit:v,children:[e.jsxs("div",{children:[e.jsx(o,{children:"Titulo"}),e.jsx(h,{value:a.title,placeholder:"Ingrese el titulo",onChange:s=>t("title",s.target.value)}),e.jsx(n,{message:l.title})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Categoria"}),e.jsxs(k,{onValueChange:s=>{t("category_id",Number(s))},defaultValue:a.category_id?String(a.category_id):"",children:[e.jsx(D,{className:"w-full",children:e.jsx(M,{placeholder:"Seleccionar Categoria"})}),e.jsx(E,{className:"w-full",children:e.jsxs(G,{children:[e.jsx(V,{children:"Categoria"}),x.length>0&&x.map(s=>e.jsx(A,{value:String(s.id),children:s.name},s.id))]})})]}),e.jsx(n,{message:l.category_id})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Valor"}),e.jsx(h,{type:"text",placeholder:"Ingrese el monto",value:j,onChange:s=>{const{formatted:d,raw:r}=P(s.target.value);u(d),t("amount",r)}}),e.jsx(n,{message:l.amount})]}),e.jsxs("div",{children:[e.jsx(o,{children:"Fecha"}),e.jsxs(T,{children:[e.jsx($,{asChild:!0,children:e.jsxs(c,{variant:"outline",className:F("w-full pl-3 text-left font-normal",!a.expense_date&&"text-muted-foreground"),children:[a.expense_date?a.expense_date.toLocaleDateString():e.jsx("span",{children:"Pick a date"}),e.jsx(z,{className:"ml-auto h-4 w-4 opacity-50"})]})}),e.jsx(B,{className:"w-auto p-0",align:"start",children:e.jsx(H,{mode:"single",selected:a.expense_date,onSelect:s=>{s&&t("expense_date",s)},disabled:s=>s>i||s<new Date("1900-01-01"),defaultMonth:i,initialFocus:!0})})]}),e.jsx(n,{message:l.expense_date})]}),e.jsx(c,{disabled:m,children:m?"Agregando...":"Agregar gasto"})]})})]})})]})]})}export{te as default};
